"use strict";$(function(){var e=$(".header").outerHeight(!1);document.querySelector(".title").style.setProperty("--header-height",e+"px");new Swiper(".sites__slider",{spaceBetween:20,slidesPerView:1,speed:400,simulateTouch:!1,breakpoints:{721:{slidesPerView:2,spaceBetween:20},1024:{spaceBetween:30,slidesPerView:2},1153:{slidesPerView:3,spaceBetween:30}},loop:!0,slideClass:"sites__item",wrapperClass:"sites__list",containerModifierClass:"sites__slider--",slideActiveClass:"sites__item--active",slideDuplicateActiveClass:"sites__item--active--duplicate",slideVisibleClass:"sites__item--visible",slideDuplicateClass:"sites__item--duplicate",slideNextClass:"sites__item--next",slideDuplicateNextClass:"sites__item--next--duplicate",slidePrevClass:"sites__item--prev",slideDuplicatePrevClass:"sites__item--prev--duplicate",navigation:{nextEl:".sites__arrow--right",prevEl:".sites__arrow--left"},pagination:{el:".sites__pagination",type:"bullets",bulletClass:"pagination__item",bulletActiveClass:"pagination__item--active",modifierClass:"pagination--",clickableClass:"pagination--clickable",clickable:!0},a11y:{prevSlideMessage:"Назад",nextSlideMessage:"Вперёд",paginationBulletMessage:"Пример №{{index}}",notificationClass:"sites__notification"}});var t=document.querySelector(".button-up"),s=document.querySelector(".header");function i(){var e=$(".menu__list--mobile").outerWidth(!1);$(".header__menu").hasClass("active")?($(".button-menu").removeClass("button-menu--active"),$(".menu__list--mobile").animate({left:"-"+e+"px"},300,function(){$(".header__menu").removeClass("active"),$("body").removeClass("scroll-off"),document.querySelector(".button-menu").style.setProperty("z-index","1")})):(document.querySelector(".button-menu").style.setProperty("z-index","4"),$(".header__menu").addClass("active"),$(".button-menu").addClass("button-menu--active"),$("body").addClass("scroll-off"),$(".menu__list--mobile").animate({left:"0px"},300))}function n(e){$(e).addClass("request--active"),$(".request--active").hide().fadeIn(300,function(){$(".request__input--focused").focus()}),$("body").addClass("scroll-off")}function a(){$(".request__form").trigger("reset"),$(".request--active").fadeOut(300,function(){$(".request__message").removeClass("message--active"),$(this).removeClass("request--active"),$("body").removeClass("scroll-off")})}function _(e){return $(e).parent().parent().outerWidth(!1)}function p(e){return $(e).parent().parent().outerHeight(!1)}function y(e){return Math.round(Math.random()*(e-99)+100)}function f(e){return Math.round(Math.random()*(e-99)+100)}function v(e){return e<=720?30:0}function r(e,t){var s,i,n,a=_(t),r=p(t),o=v(a),l=y(a)-e-o,u=f(r)-e-o;s=l,i=u,n=t,document.querySelector(n).style.setProperty("left",s+"px"),document.querySelector(n).style.setProperty("top",i+"px"),b(l,u,e,t)}function b(e,t,s,i){var n,a,r=Math.round(3e4*Math.random()+3e4),o=_(i),l=p(i),u=v(o),c=y(o)-s-u,m=f(l)-s-u,d=Math.round(720*Math.random()+1)-360;document.querySelector(i).style.setProperty("transition","transform "+r+"ms"),n=c<=e?-1*(e-c):c-e,a=m<=t?-1*(t-m):m-t,document.querySelector(i).style.setProperty("--move-x",n+"px"),document.querySelector(i).style.setProperty("--move-y",a+"px"),document.querySelector(i).style.setProperty("--rotate",d+"deg"),e=c-n,t=m-a,setTimeout(b,r,e,t,s,i)}new IntersectionObserver(function(e){e[0].isIntersecting?t.classList.remove("button-up--visible"):t.classList.add("button-up--visible")},{root:null,rootMargin:"0px",threshold:0}).observe(s),$(".button-menu").click(i),$(".header__menu").mousedown(function(e){e.target==this&&i()}),$(".header__menu").find(".menu__link").click(function(){$(".header__menu").hasClass("active")&&i()}),$('.request__input[type="tel"]').inputmask({mask:"+7 (999) 999-9999"}),$.validator.addMethod("minlenghtphone",function(e,t){return 10<e.replace(/\D+/g,"").length},"Введите 10 цифр номера"),$(".request__form").each(function(){$(this).validate({rules:{"Имя":{required:!0},"Телефон":{required:!0,minlenghtphone:10},"Почта":{required:!0,email:!0}},messages:{"Имя":{required:"Введите имя"},"Телефон":{required:"Введите телефон"},"Почта":{required:"Введите e-mail",email:"Введите корректный e-mail"}},submitHandler:function(){return $.ajax().done(function(){$(".request__message").addClass("message--active"),$(".message--active").hide().fadeIn(300,function(){setTimeout(a,2e3)})}),!1}})}),$(".button--request--call").click(function(){n(".request--call")}),$(".button--request--mail").click(function(){n(".request--mail")}),$(".request__button-cancel").click(a),$(".request").mousedown(function(e){e.target==this&&a()}),$(document).keydown(function(e){27==e.keyCode&&$(".request__container").parent().hasClass("request--active")&&a()}),setTimeout(function(){r(68,".symbols__sym--1"),r(70,".symbols__sym--2"),r(68,".symbols__sym--3"),r(86,".symbols__sym--4"),r(76,".symbols__sym--5"),r(68,".symbols__sym--6"),r(68,".symbols__sym--7"),r(68,".symbols__sym--8"),r(86,".symbols__sym--9"),r(76,".symbols__sym--10")},10),$(".symbols").toggleClass("symbols--active")});